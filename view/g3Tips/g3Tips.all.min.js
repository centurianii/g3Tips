(function(b,e,d,a,f){b.utils=b.utils||{};b.utils.type=(typeof b.utils.type==="function")?b.utils.type:function(h){if(h===null){return"null"}else{if(typeof h==="undefined"){return"undefined"}}return Object.prototype.toString.call(h).match(/^\[object\s(.*)\]$/)[1].toLowerCase()};b.utils.getWindow=(typeof b.utils.getWindow==="function")?b.utils.getWindow:function(h){if(h&&h.ownerDocument){return h.ownerDocument.defaultView||h.ownerDocument.parentWindow}else{while(h.parentNode){h=h.parentNode}return h.defaultView||h.parentWindow}return d};b.utils.Array=(typeof b.utils.Array==="object")?b.utils.Array:{indexOf:function(){if(!Array.prototype.indexOf||([0,1].indexOf(1,2)!=-1)){Array.prototype.indexOf=function(h,i){if(this===f||this===null){throw new TypeError('"this" is null or not defined')}var j=this.length>>>0;i=+i||0;if(Math.abs(i)===Infinity){i=0}if(i<0){i+=j;if(i<0){i=0}}for(;i<j;i++){if(this[i]===h){return i}}return -1}}}};b.utils.Array.indexOf();b.utils.clearString=(typeof b.utils.clearString==="function")?b.utils.clearString:function(n,m){var l,h,k,j;if((typeof n!=="string")||!n||(typeof m!=="string")||!m){return n}l=Array.prototype.slice.call(arguments,2);if(l.length===0){return n}for(j=0;j<l.length;j++){if(b.utils.type(l[j])==="regexp"){l[j]="(?:"+l[j].source+")"}else{if((b.utils.type(l[j])==="string")||(b.utils.type(l[j])==="number")){l[j]="(?:"+l[j]+")"}else{l.splice(j,1);j--}}}if(l.length===0){return n}k=new RegExp(l.join("|"),"gi");h=n.split(m);for(j=0;j<h.length;j++){if(h[j].search(k)!==-1){h.splice(j,1);j--}}n=h.join(m);return n};b.Class=function(){var k=arguments.length;if(k===0||(k===1&&arguments[0]===null)){return function(){}}var j=arguments[k-1],m=k>1?arguments[0]:null,l=k>2,n,h,o;if(j.constructor===Object){n=function(){}}else{n=j.constructor;delete j.constructor}if(m){h=function(){};h.prototype=m.prototype;n.prototype=new h();n.prototype.constructor=n;n.Super=m;g(n,m,false)}if(l){for(o=1;o<k-1;o++){if(typeof arguments[o]==="object"){g(n.prototype,arguments[o],false,"function")}else{g(n.prototype,arguments[o].prototype,false)}}}c(n,j);return n};function c(h,j,i){if(j.STATIC){g(h,j.STATIC,i);delete j.STATIC}g(h.prototype,j,i)}var g=b.Class.extend=function(j,l,h,i){var k;if(h===false){for(k in l){if(!(k in j)){if(!i){j[k]=l[k]}else{if(typeof l[k]===i){j[k]=l[k]}}}}}else{for(k in l){if(!i){j[k]=l[k]}else{if(typeof l[k]===i){j[k]=l[k]}}}if(l.toString!==Object.prototype.toString){j.toString=l.toString}}};b.Error=b.Class(Error,{constructor:function(j,h,i){b.Error.Super.call(this);this.original=i;this.name=h||"Error.g3";this.message=j||"A g3.Error was thrown!";(i)?this.stack=this.original.stack:this.stack=null;this.message+="\n---STACK---\n"+this.stack}});b.measure=function(j,o){if(!o||(o.self!==o)||(o.window!==o)){o=d}var w,t,m,s;if((j===o.screen)||(j==="screen")){if(j==="screen"){j=o.screen}return{width:j.width,height:j.height}}else{if(j==="viewport"){m=o.document.documentElement.scrollLeft||o.document.body.parentNode.scrollLeft||o.document.body.scrollLeft||o.pageXOffset;s=o.document.documentElement.scrollTop||o.document.body.parentNode.scrollTop||o.document.body.scrollTop||o.pageYOffset;w=o.document.documentElement.clientWidth;t=o.document.documentElement.clientHeight;return{left:m,top:s,width:w,height:t}}else{if((j===o.document)||(j==="document")){if(j==="document"){j=o.document}w=o.document.documentElement.scrollWidth;t=o.document.documentElement.scrollHeight;return{width:w,height:t}}else{if(j&&(typeof j==="object")&&(j.nodeType===1)){var h=j.offsetWidth,x=j.clientWidth,i=j.offsetHeight,y=j.clientHeight;var q={outerWidth:h,innerWidth:x,outerHeight:i,innerHeight:y,intersect:function(){return n.call(this,o)},difference:function(){return p.call(this,o)}};l.call(q,j,o);k.call(q,j,o);u.call(q,o);return q}else{if(typeof j==="number"){return{value:j,unit:"px"}}else{if((typeof j==="string")&&(j!=="")){var z=j.match(/[^\+\-\s0-9\.;]+/gi),r;if(!z){r="px"}else{r=z[0]}z=parseFloat(j);if(isNaN(z)){return null}else{return{value:z,unit:r}}}else{return null}}}}}}function l(C,D){var B,A;if(D.getComputedStyle){B=parseFloat(D.getComputedStyle(C).getPropertyValue("width"));A=parseFloat(D.getComputedStyle(C).getPropertyValue("height"))}else{if(C.currentStyle){B=parseFloat(C.currentStyle.getAttribute("width"));A=parseFloat(C.currentStyle.getAttribute("height"))}else{B=this["innerWidth"];A=this["innerHeight"]}}this["width"]=B;this["height"]=A;return this}function k(B,C){v.call(this,B,C);if(B.getBoundingClientRect){var A=b.measure("viewport",C);this["left"]=this["viewLeft"]+A.left;this["top"]=this["viewTop"]+A.top}return this}function v(D,E){if(D.getBoundingClientRect){var C=D.getBoundingClientRect();this["viewTop"]=C.top;this["viewLeft"]=C.left;this["viewBottom"]=C.bottom;this["viewRight"]=C.right}else{var B=b.measure("viewport",E);var A=0,F=0;while(D!=null){A+=D.offsetLeft;F+=D.offsetTop;D=D.offsetParent}this["left"]=A;this["top"]=F;this["viewTop"]=this["top"]-B.top;this["viewLeft"]=this["left"]-B.left;this["viewBottom"]=this["viewTop"]+this["outerHeight"];this["viewRight"]=this["viewLeft"]+this["outerWidth"]}return this}function u(E){var B=b.measure("viewport",E),A=0;if((this["viewTop"]<B.height)&&(this["viewBottom"]>0)){if((this["viewRight"]>=0)&&(this["viewRight"]<=B.width)){A+=2}if((this["viewLeft"]>=0)&&(this["viewLeft"]<=B.width)){A+=8}}if((this["viewRight"]>0)&&(this["viewLeft"]<B.width)){if((this["viewTop"]>=0)&&(this["viewTop"]<=B.height)){A+=1}if((this["viewBottom"]>=0)&&(this["viewBottom"]<=B.height)){A+=4}}if(A===0){this.visible=false}else{if(A===15){this.visible=true}else{var D,C="";D=A&parseInt("0001",2);if(Number(D).toString(2).slice(0,1)==="1"){C+="top "}D=A&parseInt("0010",2);if(Number(D).toString(2).slice(0,1)==="1"){C+="right "}D=A&parseInt("0100",2);if(Number(D).toString(2).slice(0,1)==="1"){C+="bottom "}D=A&parseInt("1000",2);if(Number(D).toString(2).slice(0,1)==="1"){C+="left"}C=C.replace(/^\s+|\s+$/g,"");this.visible=C}}}function n(F){var G=this.visible,C=b.measure("viewport",F),D,B,E,A;if(G===true){return true}if(G===false){return false}if(G.indexOf("left")>=0){D=this.viewLeft;if(G.indexOf("right")>=0){E=this.outerWidth}else{E=C.width-this.viewLeft}}else{D=0;if(G.indexOf("right")>=0){E=this.viewRight}else{E=C.width}}if(G.indexOf("top")>=0){B=this.viewTop;if(G.indexOf("bottom")>=0){A=this.outerHeight}else{A=C.height-this.viewTop}}else{B=0;if(G.indexOf("bottom")>=0){A=this.viewBottom}else{A=C.height}}return{viewLeft:D,viewTop:B,width:E,height:A}}function p(F){var G=this.visible,A=b.measure("viewport",F),E,D,C,B;if(G===false){return false}if(G===true){G="top right bottom left"}if(G.indexOf("left")>=0){E=this.viewLeft}else{E=0}if(G.indexOf("right")>=0){C=A.width-this.viewRight}else{C=0}if(G.indexOf("top")>=0){D=this.viewTop}else{D=0}if(G.indexOf("bottom")>=0){B=A.height-this.viewBottom}else{B=0}return{left:E,top:D,right:C,bottom:B}}};b.debounce=function(l,u,s,r,q,p,o,n,m,k,j,i){var h={pid:null,last:0};if(typeof l!=="function"){return null}if(!u||(typeof u.delay!=="number")){return l}if(typeof u.fireFirst==="undefined"){u.fireFirst=false}if((typeof u.fireFirst===true)&&(typeof u.fireLast==="undefined")){u.fireLast=false}if(typeof u.fireLast==="undefined"){u.fireLast=true}function t(x){var y=new Date().getTime();var w=y-h.last;h.last=new Date().getTime();function v(){if(!u.context||(typeof u.context!="object")){if(x){return l(x,s,r,q,p,o,n,m,k,j,i)}else{return l(s,r,q,p,o,n,m,k,j,i)}}else{if(x){return l.call(u.context,x,s,r,q,p,o,n,m,k,j,i)}else{return l.call(u.context,s,r,q,p,o,n,m,k,j,i)}}}if(u.fireFirst===true){if(w>=u.delay){v()}}if(u.fireLast===true){clearTimeout(h.pid);h.pid=setTimeout(v,u.delay)}}return t};jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(i,j,h,l,k){return jQuery.easing[jQuery.easing.def](i,j,h,l,k)},easeInQuad:function(i,j,h,l,k){return l*(j/=k)*j+h},easeOutQuad:function(i,j,h,l,k){return -l*(j/=k)*(j-2)+h},easeInOutQuad:function(i,j,h,l,k){if((j/=k/2)<1){return l/2*j*j+h}return -l/2*((--j)*(j-2)-1)+h},easeInCubic:function(i,j,h,l,k){return l*(j/=k)*j*j+h},easeOutCubic:function(i,j,h,l,k){return l*((j=j/k-1)*j*j+1)+h},easeInOutCubic:function(i,j,h,l,k){if((j/=k/2)<1){return l/2*j*j*j+h}return l/2*((j-=2)*j*j+2)+h},easeInQuart:function(i,j,h,l,k){return l*(j/=k)*j*j*j+h},easeOutQuart:function(i,j,h,l,k){return -l*((j=j/k-1)*j*j*j-1)+h},easeInOutQuart:function(i,j,h,l,k){if((j/=k/2)<1){return l/2*j*j*j*j+h}return -l/2*((j-=2)*j*j*j-2)+h},easeInQuint:function(i,j,h,l,k){return l*(j/=k)*j*j*j*j+h},easeOutQuint:function(i,j,h,l,k){return l*((j=j/k-1)*j*j*j*j+1)+h},easeInOutQuint:function(i,j,h,l,k){if((j/=k/2)<1){return l/2*j*j*j*j*j+h}return l/2*((j-=2)*j*j*j*j+2)+h},easeInSine:function(i,j,h,l,k){return -l*Math.cos(j/k*(Math.PI/2))+l+h},easeOutSine:function(i,j,h,l,k){return l*Math.sin(j/k*(Math.PI/2))+h},easeInOutSine:function(i,j,h,l,k){return -l/2*(Math.cos(Math.PI*j/k)-1)+h},easeInExpo:function(i,j,h,l,k){return(j==0)?h:l*Math.pow(2,10*(j/k-1))+h},easeOutExpo:function(i,j,h,l,k){return(j==k)?h+l:l*(-Math.pow(2,-10*j/k)+1)+h},easeInOutExpo:function(i,j,h,l,k){if(j==0){return h}if(j==k){return h+l}if((j/=k/2)<1){return l/2*Math.pow(2,10*(j-1))+h}return l/2*(-Math.pow(2,-10*--j)+2)+h},easeInCirc:function(i,j,h,l,k){return -l*(Math.sqrt(1-(j/=k)*j)-1)+h},easeOutCirc:function(i,j,h,l,k){return l*Math.sqrt(1-(j=j/k-1)*j)+h},easeInOutCirc:function(i,j,h,l,k){if((j/=k/2)<1){return -l/2*(Math.sqrt(1-j*j)-1)+h}return l/2*(Math.sqrt(1-(j-=2)*j)+1)+h},easeInElastic:function(i,k,h,o,n){var l=1.70158,m=0,j=o;if(k==0){return h}if((k/=n)==1){return h+o}if(!m){m=n*0.3}if(j<Math.abs(o)){j=o;l=m/4}else{l=m/(2*Math.PI)*Math.asin(o/j)}return -(j*Math.pow(2,10*(k-=1))*Math.sin((k*n-l)*(2*Math.PI)/m))+h},easeOutElastic:function(i,k,h,o,n){var l=1.70158,m=0,j=o;if(k==0){return h}if((k/=n)==1){return h+o}if(!m){m=n*0.3}if(j<Math.abs(o)){j=o;l=m/4}else{l=m/(2*Math.PI)*Math.asin(o/j)}return j*Math.pow(2,-10*k)*Math.sin((k*n-l)*(2*Math.PI)/m)+o+h},easeInOutElastic:function(i,k,h,o,n){var l=1.70158,m=0,j=o;if(k==0){return h}if((k/=n/2)==2){return h+o}if(!m){m=n*(0.3*1.5)}if(j<Math.abs(o)){j=o;l=m/4}else{l=m/(2*Math.PI)*Math.asin(o/j)}if(k<1){return -0.5*(j*Math.pow(2,10*(k-=1))*Math.sin((k*n-l)*(2*Math.PI)/m))+h}return j*Math.pow(2,-10*(k-=1))*Math.sin((k*n-l)*(2*Math.PI)/m)*0.5+o+h},easeInBack:function(i,j,h,m,l,k){if(k==f){k=1.70158}return m*(j/=l)*j*((k+1)*j-k)+h},easeOutBack:function(i,j,h,m,l,k){if(k==f){k=1.70158}return m*((j=j/l-1)*j*((k+1)*j+k)+1)+h},easeInOutBack:function(i,j,h,m,l,k){if(k==f){k=1.70158}if((j/=l/2)<1){return m/2*(j*j*(((k*=(1.525))+1)*j-k))+h}return m/2*((j-=2)*j*(((k*=(1.525))+1)*j+k)+2)+h},easeInBounce:function(i,j,h,l,k){return l-jQuery.easing.easeOutBounce(i,k-j,0,l,k)+h},easeOutBounce:function(i,j,h,l,k){if((j/=k)<(1/2.75)){return l*(7.5625*j*j)+h}else{if(j<(2/2.75)){return l*(7.5625*(j-=(1.5/2.75))*j+0.75)+h}else{if(j<(2.5/2.75)){return l*(7.5625*(j-=(2.25/2.75))*j+0.9375)+h}else{return l*(7.5625*(j-=(2.625/2.75))*j+0.984375)+h}}}},easeInOutBounce:function(i,j,h,l,k){if(j<k/2){return jQuery.easing.easeInBounce(i,j*2,0,l,k)*0.5+h}return jQuery.easing.easeOutBounce(i,j*2-k,0,l,k)*0.5+l*0.5+h}});b.Tips=b.Class({constructor:function(h){if(typeof h==="string"){return b.Tips.get(h)}if(b.utils.type(h)!=="object"){throw new b.Error("Tip constructor failed. No options were given. Nothing stored to g3.Tips::instances array.","Error.Tips.g3",new Error())}if(h.destroy){b.Tips.destroy(h.destroy);delete h.destroy}h.name=(h.name)?h.name:b.Tips.defaults.name;for(var j=0;j<b.Tips.plugins.length;j++){b.Class.extend(this,b.Tips.plugins[j].plugin,false,"function")}b.Tips.add(h.name,this);this.init(h)},STATIC:{defaults:{name:"g3Tips",selectors:[".tip"],parent:"",addStyled:false,addTitled:false,autoFill:true,nodes:[],special:["OBJECT","IMG","FORM","LABEL","INPUT","SELECT","TEXTAREA","DATALIST","OUTPUT","METER","PROGRESS"],originTag:"div",titleTag:"span",handlerTag:"span",convert:false,titles:false,position:false,handlerTip:false,handlerOrigin:false,displayHandler:true,optimize:false,displayTip:false,trackMouse:false,mouseDistance:"20px",animation:"styled",duration:"200ms",animationIn:"easeInOutExpo",animationOut:"easeInOutExpo",from:"80%",to:"100%",delayIn:"200ms",delayOut:"200ms",eventIn:"mouseenter focus click",eventOut:"mouseleave blur",off:false},instances:[],plugins:[],library:function(h){if(h==="jquery"){e.g3Tips=b.Tips;e.fn.g3Tips=function(i,k){if((b.utils.type(i)==="null")||(b.utils.type(i)==="undefined")){return e.g3Tips}else{if(b.utils.type(i)==="string"){return b.Tips.get(i,"jquery",this,k)}else{if(!(b.utils.type(i)==="object")){return this}}}if(i.destroy){b.Tips.destroy(i.destroy);delete i.destroy}if(b.utils.type(i.nodes)!=="array"){i.nodes=[]}if((i.autoFill===true)||((i.autoFill!==false)&&(b.Tips.defaults.autoFill===true))){i.nodes=this.add(i.nodes).get()}var j=new b.Tips(i);j.addLibrary("jquery",this);return j}}return this},plugin:function(j){if(b.utils.type(j)!=="object"){return this}if(!j.name){throw new b.Error("No plugin name found. Nothing stored to g3.Tips::plugins array.","Error.Tips.g3",new Error())}for(var h=0;h<b.Tips.plugins.length;h++){if(b.Tips.plugins[h].id===j.name){throw new b.Error("Plugin name collision. Nothing stored to g3.Tips::plugins array.","Error.Tips.g3",new Error())}}b.Tips.plugins.push({id:j.name,plugin:j});return this},destroy:function(h){var k;for(var j=0;j<b.Tips.instances.length;j++){if(b.Tips.instances[j].id===h){k=b.Tips.instances[j].tip.instance.win.document.getElementsByTagName("head")[0];e("#"+h,k).remove();b.Tips.instances[j].tip.init({off:"handlerTip handlerOrigin optimize trackMouse animation"});b.Tips.instances[j].tip.instance.$allNodes.each(function(){delete e(this).data("tip")});b.Tips.instances[j].tip=null;b.Tips.instances.splice(j,1);return this}}return this},get:function(h){var k=[],n=arguments[1],m=arguments[2],l=arguments[3];if(b.utils.type(h)==="string"){h=new RegExp("^"+h+"$")}for(var j=0;j<b.Tips.instances.length;j++){if(b.Tips.instances[j].id.search(h)>-1){k.push(b.Tips.instances[j].tip)}}if(k.length===0){return null}else{if(!n||!m){return(k.length===1)?k[0]:k}k=k[k.length-1];k.addLibrary(n,m);if(l!==false){k.options.nodes=m.add(k.options.nodes).get()}return k}},add:function(k,j){for(var h=0;h<b.Tips.instances.length;h++){if(b.Tips.instances[h].id===k){throw new b.Error("Tip instance name '"+k+"' overlaps existing. Nothing stored to g3.Tips::instances array.","Error.Tips.g3",new Error())}}b.Tips.instances.push({id:k,tip:j});return this},"static-name":"g3.Tips",version:"0.1"},addLibrary:function(h,k){for(var j=0;j<this.libraries.length;j++){if(this.libraries[j].id===h){this.libraries[j]["lib"]=k;return}}this.libraries.push({id:h,lib:k})},to:function(h){for(var j=0;j<this.libraries.length;j++){if(this.libraries[j].id===h){return this.libraries[j].lib}}},end:function(h){this.to(h)},init:function(n){if(!this.instance){this.options=e.extend({},b.Tips.defaults,n);this.libraries=[];if(!n.parent||!n.parent.nodeType){this.options.parent=d.document}this.options.name=this.options.name.replace(/^\s+|\s+$/g,"");this.instance={name:this.options.name,parent:this.options.parent,win:b.utils.getWindow(this.options.parent),firstBuilt:true,handler:{},on:{},$nodes:e(),$allNodes:e()}}else{if(b.utils.type(n)!=="object"){this.instance.firstBuilt=false;return this}else{L(this);this.options=e.extend({},this.options,n);this.options.name=this.instance.name;this.options.parent=this.instance.parent;this.instance.firstBuilt=false}}if(!this.options.originTag){this.options.originTag="div"}if(!this.options.titleTag){this.options.titleTag="span"}if(!this.options.handlerTag){this.options.handlerTag="span"}var C=this,E={};E.getNodes=j();E.convert=u();E.applyTitle=k();E.applyPosition=r();E.applyHandlerTip=t();E.applyHandlerOrigin=w();E.applyDisplayHandler=F();E.applyOptimize=p();E.applyDisplayTip=J();E.applyTrackMouse=y();E.applyAnimation=M();E.applyEvents=B();if(b.utils.type(this.options.debug)==="object"){for(var H in E){this.options.debug[H]=E[H]}}delete this.options.debug;return this;function L(i){i.options.addStyled=false;i.options.addTitled=false;i.options.convert=false;i.options.titles=false;i.options.position=false;i.options.handlerTip=false;i.options.handlerOrigin=false;i.options.optimize=false;i.options.trackMouse=false;i.options.off=false;i.options.animation="styled"}function j(){var N=false;if(C.options.nodes&&C.options.nodes.length){C.instance.$nodes=e(C.options.nodes);C.options.nodes=[];N=true}if(C.options.addStyled&&(b.utils.type(C.options.selectors)==="array")){for(var O=0;O<C.options.selectors.length;O++){C.instance.$nodes=C.instance.$nodes.add(e(C.options.selectors[O]+" > "+C.options.selectors[O],C.options.parent).parent(C.options.selectors[O]))}N=true}if(C.options.addTitled){C.instance.$nodes=C.instance.$nodes.add(e("[title]",C.options.parent));N=true}if(C.instance.$nodes.length){C.instance.$nodes=C.instance.$nodes.map(function(){var i=e(this);if(C.options.special.indexOf(this.nodeName.toUpperCase())>-1){if(!i.parent(C.options.originTag).hasClass("tip")){i.wrap("<"+C.options.originTag+"></"+C.options.originTag+">");return i.parent(C.options.originTag).addClass("tip_wrap").get(0)}else{return i.parent(C.options.originTag).get(0)}}else{return this}});C.instance.$allNodes=C.instance.$allNodes.add(C.instance.$nodes)}return N}function u(){if(!C.options.convert||!C.instance.$nodes.length){return false}var i=false;C.instance.$nodes.each(function(){var N=e(this);if(!N.hasClass("tip")){var P=N.attr("title"),O;O="<"+C.options.titleTag+' class="tip css"><'+C.options.handlerTag+' class="handler"></'+C.options.handlerTag+">"+P+"</"+C.options.titleTag+">";N.addClass("tip").removeAttr("title").prepend(O);i=true}});return i}function k(){if(!C.options.titles||!C.instance.$nodes.length||(b.utils.type(C.options.titles)!=="array")||(C.options.titles.length===0)){return false}var i=false;C.instance.$nodes.each(function(N){if(N>=C.options.titles.length){return false}var P=e(this),O;if(P.hasClass("tip")&&P.children(".tip").length){O="<"+C.options.handlerTag+' class="handler"></'+C.options.handlerTag+">"+C.options.titles[N];P.children(".tip").html(O);i=true}});return i}function r(){if(!C.instance.$nodes.length){return false}var i=false,O,Q,R,N,P=parseFloat(C.options.position,10);if(!isNaN(P)){while(P<0){P+=360}if(P<=45||P>315){R="top"}else{if(P>45&&P<=135){R="left"}else{if(P>135&&P<=225){R="bottom"}else{if(P>225&&P<=315){R="right"}}}}i=true}C.instance.$nodes.each(function(){O=e(this);Q=O.children(".tip");if(O.hasClass("tip")&&Q.length){if(i){Q.removeClass("top bottom left right").addClass(R);D(O,R);N=Q.children(".handler").attr("style");if(N){if((N.indexOf("left")>-1)&&(R==="left"||R==="right")){N=N.replace(/left/i,"top");Q.children(".handler").attr("style",N)}else{if((N.indexOf("top")>-1)&&(R==="top"||R==="bottom")){N=N.replace(/top/i,"left");Q.children(".handler").attr("style",N.replace(/top/i,"left"))}}N=O.data("tip");N=e.extend(true,N,{handler:{tip_style:N}});O.data("tip",N)}}else{N=!(Q.hasClass("top")||Q.hasClass("bottom")||Q.hasClass("left")||Q.hasClass("right"));if(N){Q.addClass("right");D(O,"right")}else{D(O)}}}});return i}function D(N,P){var i,O=N.children(".tip");if(!P){if(!N.data("tip")||!N.data("tip").pos){if(O.hasClass("top")){P="top"}else{if(O.hasClass("bottom")){P="bottom"}else{if(O.hasClass("left")){P="left"}else{if(O.hasClass("right")){P="right"}else{P="right"}}}}}else{return}}else{P=("top right bottom left".indexOf(P)>-1)?P:"right"}i=N.data("tip");i=e.extend(true,i,{pos:P});N.data("tip",i)}function t(N){if(!C.options.handlerTip||!C.instance.$nodes.length){return false}var Q=C.options.handlerTip,O=b.measure(Q),P,i=false;if(!O){return false}C.instance.$nodes.each(function(){var R=e(this),S=R.children(".tip");if(R.hasClass("tip")&&S.length){if((R.data("tip").pos==="top")||(R.data("tip").pos==="bottom")){P="left:"+Q+";"}else{if((R.data("tip").pos==="left")||(R.data("tip").pos==="right")){P="top:"+Q+";"}}S.children(".handler").attr("style",P);O=R.data("tip");O=e.extend(true,O,{handler:{tip:Q,tip_style:P}});R.data("tip",O);i=true}});return i}function w(N){if(!C.options.handlerOrigin||!C.instance.$nodes.length){return false}var O=C.options.handlerOrigin,Q,R,P=b.measure(O),i=false;if(!P){return false}C.instance.$nodes.each(function(){Q=e(this);R=Q.children(".tip");if(Q.hasClass("tip")&&R.length){P=Q.data("tip");P=e.extend(true,P,{handler:{origin:O}});Q.data("tip",P);i=true}});if(i){C.instance.on.handlerOrigin=1}return i}function l(i){var N=(i)?C.instance.$allNodes:C.instance.$nodes;N.each(function(){I(e(this))})}function I(R){var T=R.children(".tip"),O,S,N,Q,i,P;if(R.hasClass("tip")&&T.length&&R.data("tip")&&R.data("tip").handler&&R.data("tip").handler.origin){O=b.measure(R.data("tip").handler.origin);i=O.value;P=O.unit;O=A(R);N=O.value;Q=O.unit;if(T.hasClass("top")||T.hasClass("bottom")){if(Q==="%"){N=N*T.outerWidth()/100;Q="px"}if(P==="%"){i=i*R.outerWidth()/100;P="px"}if(Q===P){O=(i-N)+Q;S=R.data("tip");S=e.extend(true,S,{handler:{origin_style:"left: "+O+";",origin_style_x:"left: "+O+";"}});R.data("tip",S);T.attr("style",b.utils.clearString(T.attr("style"),";","\\btop")).css("left",O)}}else{if(R.children(".tip").hasClass("left")||R.children(".tip").hasClass("right")){if(Q==="%"){N=N*T.outerHeight()/100;Q="px"}if(P==="%"){i=i*R.outerHeight()/100;P="px"}if(Q===P){O=(i-N)+Q;S=R.data("tip");S=e.extend(true,S,{handler:{origin_style:"top: "+O+";",origin_style_y:"top: "+O+";"}});R.data("tip",S);T.attr("style",b.utils.clearString(T.attr("style"),";","\\bleft")).css("top",O)}}}}}function A(P){var R=P.children(".tip"),N,i,O;N=R.children(".handler").position();if(R.hasClass("top")||R.hasClass("bottom")){i=N.left}else{if(R.hasClass("left")||R.hasClass("right")){i=N.top}}O="px";if(!i){if(R.hasClass("top")||R.hasClass("bottom")){try{N=b.measure(C.instance.win.getComputedStyle(R.children(".handler").get(0)).getPropertyValue("left").replace(/"|'/g,""));i=N.value;O=N.unit}catch(Q){i=50;O="%"}}else{if(P.children(".tip").hasClass("left")||P.children(".tip").hasClass("right")){try{N=b.measure(C.instance.win.getComputedStyle(R.children(".handler").get(0)).getPropertyValue("top").replace(/"|'/g,""));i=N.value;O=N.unit}catch(Q){i=50;O="%"}}}}return{value:i,unit:O}}function F(){if(!C.instance.$nodes.length){return false}var i=false,P,Q,O,N;C.instance.$nodes.each(function(){P=e(this);Q=P.children(".tip");if(P.hasClass("tip")&&Q.length){O=false;if(C.options.displayHandler){if(Q.hasClass("no_handler")){Q.removeClass("no_handler");O=i=true}}else{if(!Q.hasClass("no_handler")){P.children(".tip").addClass("no_handler");O=i=true}}if(O){N=P.data("tip");N=e.extend(true,N,{handler:{display:C.options.displayHandler}});P.data("tip",N)}}});return i}function p(N){if(!C.options.optimize||!C.instance.$nodes.length){return false}var i=false,P,Q,O;C.instance.$nodes.each(function(){P=e(this);Q=P.children(".tip");if(P.hasClass("tip")&&Q.length){O=P.data("tip");O=e.extend(true,O,{optimize:true});P.data("tip",O);i=true}});if(i){C.instance.on.optimize=1}return i}function x(W){var i=(W)?C.instance.$allNodes:C.instance.$nodes,T,V,P,U,Q,O,N,S,R;i.each(function(){T=e(this);P=T.children(".tip");if(T.hasClass("tip")&&P.length&&T.data("tip")&&T.data("tip").optimize){V=b.measure(T.get(0),C.instance.win);U=b.measure(P.get(0),C.instance.win);if(V.visible!==false){N=V.difference();S=b.measure("viewport",C.instance.win);R=[];R.push({pos:"top",value:Math.min(S.width,U.outerWidth*N.top/U.outerHeight)});R.push({pos:"bottom",value:Math.min(S.width,U.outerWidth*N.bottom/U.outerHeight)});R.push({pos:"left",value:Math.min(N.left,U.outerWidth*S.height/U.outerHeight)});R.push({pos:"right",value:Math.min(N.right,U.outerWidth*S.height/U.outerHeight)});O=true;while(O){O=false;for(var X=0;X<R.length-1;X++){if(R[X].value<R[X+1].value){Q=R[X];R[X]=R[X+1];R[X+1]=Q;O=true}}}if((P.hasClass("top")||P.hasClass("bottom"))&&((R[0].pos==="left")||(R[0].pos==="right"))){P.attr("style",b.utils.clearString(P.attr("style"),";","\\bleft"))}else{if((P.hasClass("left")||P.hasClass("right"))&&((R[0].pos==="top")||(R[0].pos==="bottom"))){P.attr("style",b.utils.clearString(P.attr("style"),";","\\btop"))}}Q=T.data("tip");Q=e.extend(true,Q,{reset:false});T.data("tip",Q);if(R[0].value<U.outerWidth){P.css("width",R[0].value)}P.removeClass("top bottom left right").addClass(R[0].pos);Q=P.children(".handler").attr("style");if(Q){if((Q.indexOf("left")>-1)&&(R[0].pos==="left"||R[0].pos==="right")){P.children(".handler").attr("style",Q.replace(/left/i,"top"))}else{if((Q.indexOf("top")>-1)&&(R[0].pos==="top"||R[0].pos==="bottom")){P.children(".handler").attr("style",Q.replace(/top/i,"left"))}}}}}});C.instance.win.setTimeout(b.debounce(v,{delay:50},W),0)}function v(V){var i=(V)?C.instance.$allNodes:C.instance.$nodes,R,U,Q,T,O,N,S,P;i.each(function(){R=e(this);Q=R.children(".tip");if(R.hasClass("tip")&&Q.length&&R.data("tip")&&R.data("tip").optimize){U=b.measure(R.get(0),C.instance.win);T=b.measure(Q.get(0),C.instance.win);if(U.visible!==false){O=T.difference();N=T.intersect();if(Q.hasClass("top")){S="top"}else{if(Q.hasClass("bottom")){S="bottom"}else{if(Q.hasClass("left")){S="left"}else{if(Q.hasClass("right")){S="right"}}}}if(R.data("tip").handler&&R.data("tip").handler.origin){if((S==="top")||(S==="bottom")){if(R.data("tip").handler.origin_style_x){Q.css("left",R.data("tip").handler.origin_style_x)}else{I(R)}}else{if((S==="left")||(S==="right")){if(R.data("tip").handler.origin_style_y){Q.css("top",R.data("tip").handler.origin_style_y)}else{I(R)}}}}if(typeof T.visible==="string"){if((S==="top")||(S==="bottom")){if(T.visible.indexOf("left")===-1){Q.css("left","+="+(T.outerWidth-N.width))}else{if(T.visible.indexOf("right")===-1){Q.css("left","-="+Math.min(T.outerWidth-N.width,O.left))}}}if((S==="left")||(S==="right")){if(T.visible.indexOf("top")===-1){Q.css("top","+="+(T.outerHeight-N.height))}else{if(T.visible.indexOf("bottom")===-1){Q.css("top","-="+Math.min(T.outerHeight-N.height,O.top))}}}}}else{if(R.data("tip").reset!==true){Q.removeClass("top bottom left right").addClass(R.data("tip").pos);if(Q.hasClass("top")||Q.hasClass("bottom")){Q.attr("style",b.utils.clearString(Q.attr("style"),";","\\btop"));Q.css("left",R.data("tip").handler.origin_style)}else{if(Q.hasClass("left")||Q.hasClass("right")){Q.attr("style",b.utils.clearString(Q.attr("style"),";","\\bleft"));Q.css("top",R.data("tip").handler.origin_style)}}if(R.data("tip").handler&&R.data("tip").handler.tip_style){P=R.data("tip").handler.tip_style;Q.children(".handler").attr("style",P)}P=R.data("tip");P=e.extend(true,P,{reset:true});R.data("tip",P)}}}})}function J(){if(!C.instance.$nodes.length){return false}var i=false,P,Q,O,N;C.instance.$nodes.each(function(){P=e(this);Q=P.children(".tip");if(P.hasClass("tip")&&Q.length){O=false;if(C.options.displayTip){if(Q.hasClass("css")){Q.removeClass("css").addClass("js");O=i=true}}else{if(Q.hasClass("js")){Q.removeClass("js").addClass("css");O=i=true}}if(O){N=P.data("tip");N=e.extend(true,N,{displayTip:C.options.displayTip});P.data("tip",N)}}});return i}function y(N){if(!C.options.trackMouse||!C.instance.$nodes.length){return false}var i=false,P,Q,O;C.instance.$nodes.each(function(){P=e(this);Q=P.children(".tip");if(P.hasClass("tip")&&Q.length){Q.removeClass("css js");O=P.data("tip");O=e.extend(true,O,{trackMouse:true});P.data("tip",O);if(P.get(0).tabindex==null){P.prop("tabindex","1")}i=true}});if(i){C.instance.on.trackMouse=1}return i}function o(U){if(!U){return}var S=e(this),P=S.children(".tip"),R=P.children(".handler"),T=b.measure(this,C.instance.win),N={x:0,y:0},Q,i,O;Q=A(S);i=Q.value;O=Q.unit;if(P.hasClass("top")||P.hasClass("bottom")){N.x=i}else{if(P.hasClass("left")||P.hasClass("right")){N.y=i}}P.css("width",P.width());Q=b.measure(C.options.mouseDistance);if(Q){if(S.data("tip").pos==="top"){N.y+=Q.value+P.outerHeight()+R.outerHeight();P.css("bottom","auto")}else{if(S.data("tip").pos==="bottom"){N.y-=Q.value}else{if(S.data("tip").pos==="left"){N.x+=Q.value+P.outerWidth()+R.outerWidth()}else{if(S.data("tip").pos==="right"){N.x-=Q.value}}}}}if((U.type==="mouseover")||(U.type==="focus")){P.addClass("js");S.on("mousemove.trackMouse_"+C.options.name+".tips.g3, click.trackMouse_"+C.options.name+".tips.g3",{x:T.left+N.x,y:T.top+N.y},G)}else{if((U.type==="mouseout")||(U.type==="blur")){P.removeClass("js").attr("style",null);S.off("mousemove click")}}}function G(N){if(!N){return}var O=e(this).children(".tip"),i=N.pageX-N.data.x,P=N.pageY-N.data.y;O.css({left:i,top:P})}function M(){var i=false,P,Q,O,N;if(C.options.animation==="styled"){C.instance.$nodes.each(function(){P=e(this);Q=P.children(".tip");if(P.hasClass("tip")&&Q.length){O=Q.hasClass("transitioned")||Q.hasClass("animated");if(!O){Q.addClass("transitioned");i=true}}})}else{if(C.options.animation===false){C.instance.$nodes.each(function(){P=e(this);Q=P.children(".tip");if(P.hasClass("tip")&&Q.length){Q.removeClass("transitioned animated");i=true}})}else{if(C.options.animation===true){C.instance.$nodes.each(function(){P=e(this);Q=P.children(".tip");if(P.hasClass("tip")&&Q.length){Q.removeClass("css js transitioned animated");O=P.data("tip");O=e.extend(true,O,{animate:true,animateIn:true});P.data("tip",O);i=true}});if(i){C.instance.on.animation=1}}else{if(C.options.animation){C.instance.$nodes.each(function(){P=e(this);Q=P.children(".tip");if(P.hasClass("tip")&&Q.length){Q.removeClass("transitioned");O=Q.attr("class").split(" ");N=["tip","top","bottom","left","right","css","js"];for(var R=0;R<O.length;R++){if(N.indexOf(O[R])>-1){O.splice(R,1);R--}}O=O.join(" ");Q.removeClass(O).addClass("animated "+C.options.animation);i=true}})}}}}return i}function q(U){if(!U){return}var R=e(this),N=R.children(".tip"),P=N.children(".handler"),i,O,S,T,Q,V;if(N.hasClass("top")){i="bottom"}else{if(N.hasClass("bottom")){i="top"}}if(N.hasClass("left")){i="right"}if(N.hasClass("right")){i="left"}O={tip:N,handler:P,prop1:i,prop2:"opacity"};S=b.measure(C.options.from);T=b.measure(C.options.to);Q=C.options.eventIn.replace("mouseenter","mouseover").replace("mouseleave","mouseout");V=C.options.eventOut.replace("mouseenter","mouseover").replace("mouseleave","mouseout");Q=Q.indexOf(U.type)>-1;V=V.indexOf(U.type)>-1;if(Q===V===true){Q=R.data("tip").animateIn;V=!R.data("tip").animateIn;R.data("tip").animateIn=!R.data("tip").animateIn}if(Q){O=e.extend(O,{value1:S.value,value2:0});e(O).animate({value1:"+="+(T.value-S.value),value2:1},{duration:parseFloat(C.options.duration),queue:false,easing:C.options.animationIn,start:function(){this.tip.css({visibility:"visible",opacity:0});this.handler.css({visibility:"visible",opacity:0})},done:function(){this.value1=T.value;this.value2=1},step:function(W,X){if(X.prop=="value1"){this.tip.css(this.prop1,W+S.unit)}else{if(X.prop=="value2"){this.tip.css(this.prop2,W);this.handler.css(this.prop2,W)}}}})}else{if(V){O=e.extend(O,{value1:T.value,value2:1});e(O).animate({value1:"-="+(T.value-S.value),value2:0},{duration:parseFloat(C.options.duration),queue:false,easing:C.options.animationOut,start:function(){this.value1=T.value;this.value2=1},done:function(){this.tip.css({visibility:"hidden",opacity:0});this.handler.css({visibility:"hidden",opacity:0});this.value1=S.value;this.value2=0},step:function(W,X){if(X.prop=="value1"){this.tip.css(this.prop1,W+S.unit)}else{if(X.prop=="value2"){this.tip.css(this.prop2,W);this.handler.css(this.prop2,W)}}}})}}}function B(){var N=false;if(b.utils.type(C.options.off)==="string"){if(C.options.off.indexOf("handlerTip")>-1){C.instance.on.handlerTip=false;h(true);N=true}if(C.options.off.indexOf("handlerOrigin")>-1){C.instance.on.handlerOrigin=false;s(true);N=true}if(C.options.off.indexOf("optimize")>-1){C.instance.on.optimize=false;z(true);N=true}if(C.options.off.indexOf("trackMouse")>-1){C.instance.on.trackMouse=false;K(true);N=true}if(C.options.off.indexOf("animation")>-1){C.instance.on.animation=false;m(true);N=true}}else{if(C.instance.on.handlerOrigin===true){l({})}if(C.instance.on.optimize===true){x({})}}if(C.instance.on.handlerOrigin===1){e(C.instance.win).off(".handlerOrigin_"+C.options.name);e(C.instance.win).on("resize.handlerOrigin_"+C.options.name+".tips.g3",b.debounce(l,{delay:200}));C.instance.on.handlerOrigin=true;l();N=true}if(C.instance.on.optimize===1){e(C.instance.win).off(".optimize_"+C.options.name);e(C.instance.parent).off(".optimize_"+C.options.name);e(C.instance.win).on("resize.optimize_"+C.options.name+".tips.g3",b.debounce(x,{delay:200}));e(C.instance.parent).on("scroll.optimize_"+C.options.name+".tips.g3",b.debounce(x,{delay:200}));C.instance.on.optimize=true;x();N=true}if(C.instance.on.trackMouse===1){s();z();m();C.instance.$nodes.each(function(){var i=e(this);i.off(".trackMouse_"+C.options.name);i.on("mouseenter.trackMouse_"+C.options.name+".tips.g3 mouseleave.trackMouse_"+C.options.name+".tips.g3 focus.trackMouse_"+C.options.name+".tips.g3 blur.trackMouse_"+C.options.name+".tips.g3",b.debounce(o,{context:i.get(0),delay:50}))});C.instance.on.trackMouse=true;N=true}if(C.instance.on.animation===1){var R,T,Q="",S,O,P;K();S=C.options.eventIn.split(" ");for(P=0;P<S.length;P++){Q+=S[P]+".animation_"+C.options.name+".tips.g3";if(P<S.length-1){Q+=" "}}S=Q;Q="";O=C.options.eventOut.split(" ");for(P=0;P<O.length;P++){Q+=O[P]+".animation_"+C.options.name+".tips.g3";if(P<O.length-1){Q+=" "}}O=Q;C.instance.$nodes.each(function(){R=e(this);T=R.children(".tip");R.off(".animation_"+C.options.name);R.on(S,b.debounce(q,{context:R.get(0),fireLast:true,delay:parseFloat(C.options.delayIn)}));if(S!==O){R.on(O,b.debounce(q,{context:R.get(0),fireLast:true,delay:parseFloat(C.options.delayOut)}))}});C.instance.on.animation=true;N=true}return N}function h(O){var P=(O)?C.instance.$allNodes:C.instance.$nodes,N,Q,i;if(!P){return}P.each(function(){N=e(this);Q=N.children(".tip");i=N.data("tip");if(i&&i.handler){delete i.handler.tip;delete i.handler.tip_style}N.data("tip",i);Q.children(".handler").attr("style",null)})}function s(O){var P=(O)?C.instance.$allNodes:C.instance.$nodes,N,Q,i;if(!P){return}P.each(function(){N=e(this);Q=N.children(".tip");if(N.hasClass("tip")&&Q.length&&N.data("tip")&&N.data("tip").handler&&N.data("tip").handler.origin){i=N.data("tip");delete i.handler.origin;delete i.handler.origin_style;N.data("tip",i);Q.attr("style",null)}});if(!O){i=true;C.instance.$allNodes.each(function(){N=e(this);Q=N.children(".tip");if(N.hasClass("tip")&&Q.length&&N.data("tip")&&N.data("tip").handler&&N.data("tip").handler.origin){i=false;return false}});if(i){O=true}}if(O){e(C.instance.win).off(".handlerOrigin_"+C.options.name);C.instance.on.handlerOrigin=false}}function z(O){var P=(O)?C.instance.$allNodes:C.instance.$nodes,N,Q,i;if(!P){return}P.each(function(){N=e(this);Q=N.children(".tip");if(N.hasClass("tip")&&Q.length&&N.data("tip")&&N.data("tip").optimize){i=N.data("tip");delete i.optimize;delete i.reset;N.data("tip",i);Q.removeClass("top bottom left right").addClass(N.data("tip").pos);Q.attr("style",null);if(N.data("tip").handler&&N.data("tip").handler.tip_style){Q.children(".handler").attr("style",N.data("tip").handler.tip_style)}}});if(!O){i=true;C.instance.$allNodes.each(function(){N=e(this);Q=N.children(".tip");if(N.hasClass("tip")&&Q.length&&N.data("tip")&&N.data("tip").optimize){i=false;return false}});if(i){O=true}}if(O){e(C.instance.win).off(".optimize_"+C.options.name);e(C.instance.parent).off(".optimize_"+C.options.name);C.instance.on.optimize=false}if(C.instance.on.handlerOrigin){l({})}}function K(O){var P=(O)?C.instance.$allNodes:C.instance.$nodes,N,Q,i;if(!P){return}P.each(function(){N=e(this);Q=N.children(".tip");if(N.hasClass("tip")&&Q.length&&N.data("tip")&&N.data("tip").trackMouse){N.off(".trackMouse_"+C.options.name);i=N.data("tip");delete i.trackMouse;N.data("tip",i);Q.addClass("css");Q.attr("style",null)}});if(!O){i=true;C.instance.$allNodes.each(function(){N=e(this);Q=N.children(".tip");if(N.hasClass("tip")&&Q.length&&N.data("tip")&&N.data("tip").trackMouse){i=false;return false}});if(i){O=true}}if(O){C.instance.on.trackMouse=false}}function m(O){var P=(O)?C.instance.$allNodes:C.instance.$nodes,N,Q,i;if(!P){return}P.each(function(){N=e(this);Q=N.children(".tip");Q.removeClass("transitioned animated");if(N.hasClass("tip")&&Q.length&&N.data("tip")&&N.data("tip").animate){e(this).off(".animation_"+C.options.name).children(".tip").addClass("css").attr("style",null);i=N.data("tip");delete i.animateIn;delete i.animate;N.data("tip",i)}});if(!O){i=true;C.instance.$allNodes.each(function(){N=e(this);Q=N.children(".tip");if(N.hasClass("tip")&&Q.length&&N.data("tip")&&N.data("tip").animate){i=false;return false}});if(i){O=true}}if(O){C.instance.on.animation=false}}}});b.Tips.library("jquery");b.Tips.plugin({name:"addBack",addBack:function(){this.instance.$nodes=this.instance.$nodes.add(this.instance.$allNodes)}})}(window.g3=window.g3||{},jQuery,window,document));